<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Send JWT Token in HTTP Request Header</title>
</head>
<body>
<button onclick="sendRequest()">Send Request</button>
<label for="userId">用户 ID：</label>
<input type="text" id="userId">
<button onclick="deleteUser()">删除用户</button>
<script>
    function sendRequest() {
        const token = "yJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIyMzQ1Njc4OTAxMiIsInVzZXJJZCI6MiwibmFtZSI6IuWImOiKsyIsInBob25lIjoiMjM0NTY3ODkwMTIiLCJwd2QiOiIxMjM0NTYiLCJzaWdudXBUaW1lIjoxNjgzMTk4ODc1MDAwLCJkZXNjcmlwdGlvbiI6IuS9oOaJgOeDreeIseeahOWwseaYr-S9oOeahOeUn-a0uyIsImFkZHJlc3MiOiLkuIrmtbfluILlvpDmsYfljLoiLCJpYXQiOjE2ODQxMTczMTksImV4cCI6MTY4NDIwMzcxOX0.M7kiI9hynJltcyeyF5yZbHzxroDXjeMCPtRfAH6kT7o";
        const current = 1; // 当前所在页面
        const size = 10; // 每页显示数据
        const isAsc = false; // 是否升序排列
        const sortField = 'product_id'; // 根据此字段传入的字段排序
        const url = `http://1.14.126.98:8081/product/all?current=${current}&size=${size}&isAsc=${isAsc}&sortField=${sortField}`;
        fetch(url, {
            headers: {
                'Authorization': 'Bearer ' + token
            }
        })
            .then(response => response.json())
            .then(data => console.log(data))
            .catch(error => console.error(error));
    }

    function deleteUser() {
        const userId = document.getElementById("userId").value;
        const url = `http://1.14.126.98:8081/admin/${userId}/deleteuser`;

        fetch(url, {
            method: "DELETE"
        })
            .then(response => {
                if (response.ok) {
                    console.log("用户已成功删除");
                    // 在此处添加成功处理逻辑
                } else {
                    console.error("删除用户时出现错误");
                    // 在此处添加错误处理逻辑
                }
            })
            .catch(error => {
                console.error("网络错误", error);
                // 在此处添加网络错误处理逻辑
            });
    }
</script>
</body>
</html>